name: SprawdÅº HTML i CSS

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  validate:
    runs-on: ubuntu-latest
    
    steps:
    - name: Pobierz kod
      uses: actions/checkout@v4
      
    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'
    
    - name: Zainstaluj narzÄ™dzia
      run: |
        npm install -g html-validate
        echo "Zainstalowano narzÄ™dzia do walidacji"
    
    - name: SprawdÅº czy pliki istniejÄ…
      run: |
        echo "ğŸ“ Sprawdzam pliki w repo:"
        ls -la
        echo ""
        if [ -f index.html ]; then
          echo "âœ… index.html - OK"
        else
          echo "âŒ Brak index.html"
          exit 1
        fi
        
        if [ -f style.css ]; then
          echo "âœ… style.css - OK"
        else
          echo "âŒ Brak style.css"
          exit 1
        fi
    
    - name: SprawdÅº HTML
      run: |
        echo "ğŸ” Sprawdzam poprawnoÅ›Ä‡ HTML..."
        if html-validate index.html; then
          echo "âœ… HTML jest poprawny!"
        else
          echo "âŒ BÅ‚Ä™dy w HTML"
          exit 1
        fi
    
    - name: Zlicz linie kodu
      run: |
        echo "ğŸ“Š Statystyki projektu:"
        echo "HTML: $(wc -l < index.html) linii"
        echo "CSS: $(wc -l < style.css) linii"
        echo "Razem: $(($(wc -l < index.html) + $(wc -l < style.css))) linii kodu"
    
    - name: Sukces!
      run: |
        echo "ğŸ‰ Wszystkie testy przeszÅ‚y!"
        echo "Twoja strona jest gotowa do publikacji!"
